--                                                                                                                                                  
--                                                                                                                                                    
--                                                                                                                                                    
--                                       .                                                                                                            
--                                ,c6                                                                                                                 
--                             ;6BB  @                                                                                                                
--                          ,TBd;   ;T@                                                                                                               
--                         @B    :U8c .@                                                                                                              
--                         ::i#Ui      ;@                                                                                                             
--                         :; B         S@                                                                                                            
--                          E P:       6.,                                                                                                            
--                          8  ;   ,;rBSL                                                                                                             
--                           BcB b@ @,x @                                                                                                             
--                            OrB  H@@  UP                                                                                                            
--                            x F.   B   B                                                                                                            
--              ;0;:           @ d    B  @i                                                                                                           
--             U.B r@T          @ #   ds  @                                                                                                           
--           ZB r  F .bs         @,;   X  ;E                                                                                                          
--          Sn : ;j    .Dc        @P   r@B g                                                                                                          
--          B2 ;:        :B        @Z  @B2@ 8:                                                                                                        
--           @ B.       ;t@         @  BPbSBHB8                ,r;rrjrrr:7                                                                            
--           ;B S;    rx;  @        s@.  iBx  ,@sUr           rt8 ,,,,;;.t.                                                                           
--            r@ B;  BB;    @c      .B.SF  rr6.b: :g@          5 r        B                                                                           
--              .;BD2  nB    SB      @ sr B@P0B@;  n:Ob5       #;F        @                                                                           
--                 0@;   drsT ;B;   P@8 @ #g@B.  s@s;i s@2  7BF @ @       #B                                                                          
--                   @@  sB@B@: B@rD.  ,LD r    BUU;     7B@    r@;        @                                                                          
--                    @BL ##@  B: xBc         @B  .i       .8j   B2r ...   B                                                                          
--                     @:@,O BB.     @       @B    S@T       8B:  @CEZXS:6B@                                                                          
--                     ,@ # @B tn0@6#B     n@.      @          0@      s@2                                                                            
--      ;UB@OTB@B.      :B2@    B@BBB@    B@        B            @b  r0;                                                                              
--     B8:ELjB. @O         D@BS  @UBr    Br         .B             b@                                                                                 
--     d g   @  B@B@ssHrFrEs   ;r,c    sB            @ S             @;                                                                               
--    ii B  @j #@ Ld@ PBPr@B@Hr;      @B              @;           ,:@,                                                                               
--    E j   B  @    8L @ r7L:@B,5@BSO@                @            rB                                                                                 
--  .@8  . is nBLB@Bn @       @r   U@rB              :@B          @#                                                                                  
--   rB@ ;r58;BF 0B@ nB    .8@    Bs   @B            @ @,@      .@.                                                                                   
--     8@nr :B  ;2F @@ tbB@O B@ iB      2B.        ,@  ;@      E@                                                                                     
--        rHt:B@B  @.    @0@HC @B         B@      BC    B     BB                                                                                      
--               B@s ,.  B@Xx @;           j@;  P@      Cr   B,                                                         .                             
--                srU@@@.   ;@               rL@x        O.@Bx rr                    .rc.                                                             
--                     BL  gs                j@          ;@  r .,6@,                Ot.rO8;                                                           
--                      Br5r               ,@i          .@B D;.  ST:B      ;r,     Hi    rB                                                           
--                       Bs6              ZB           B@  @@. c@2  nB    Ht ;@   .@ 7s: Br                                                           
--                         5BZ           @r           B8 8   @  C    @    B@B  @gZB@B; B:@              ircS,                                         
--                           rBC;      r@           .B .@ bO  @  B;. BcjDX..B  t;    @ 8@   d          @7   ;i                                        
--                             @B@2   tE           sx @ ;@ #  B .@:: @ H    8C;@     b @   @:x O,    ;Bs     Ss;jB                                    
--                            ,n: rB@B            @B;.O@;BSBS:@#;   D .B    @  r;   7B BZ,@Z r@ @.  X5   ;@@X0Z   86:                                 
--                             c .  BDBU         @n j@  B ;8 : r ,S8; B    .F  n.   BP  ; .ccL   @ B.   L@  j  U T, r@                                
--                             n t  H xB@B     c@B  @ .B;n#O@ijB2U@  5@    .@js#    @  8S         @t., B@   L;;nn     @                               
--                             b 2  x;x j @L jB@@ r@   @ ;  @  @Ot   @     Zs .@    B; ;P@    HTi :2  Bd:    .B;  ULri @                              
--                             8 .; cT..U  B@O0  B@Z  @r B  @  Z@B  TB     P   ;    @ :B 5@  B; s8 B  g:i   S@   8    Z0                              
--                             ;isBir@ @ P  BD#E@F  ,@B Bc  B  @i@  B;r@B@U@LcBc;, gB, BB Bs  FcL   B HXx; Et    ,i  T;C                              
--                              @ U  B  @:;r ,rt, s2@  BP  @s  #PB 0@  .: i2  @ x5rB  @.@B B     rd 6B@   ;S;   . :xH @.                              
--                             .8 @  ij  OU;,         B  T@   .@.@  B     6  j5   .@ c @  @ B ,C;jr8.@#jr;   XX:;, :  B5                              
--                              @ @.  @ir   r@s:;iST#F  @B   sP cB  @     @j:B    @  FFB  ;B;Z.r@  j@O iL rO.i  .r@  B @8                             
--                              B Pr   rb@@i   , ;;   Xd ,B7r  @ @  L@;i X  .@   ;B .0B    ,F@88B. @  r  D: ;@g2B@  Z@  B .c,r;,                      
--                              rB  iL;    .:B@Lr   s@,   xB r@  B@i;B CxB  :@OFrB  @B  8@     B  Br  .Br si .str  sr8   BSS;; ,jT;.   ,;rrCr         
--                               #.,  :Cj;  #;  7x0Z;   En  Bt   XB  Z   @niB   BH TB,        B@ ZB ;   cB, r5.  SCxB@   @  @.rt  ;CtjBdd   H;       7
--                                 rOx;  iOB          rP   B,     @ rSd8@  P@ iB  UBs SB     B@  B ; O i  ;;CcO8U:;r  @r r@U  5@@     , @r ,;B     B@,
--                                    r2HgBF;,iCSc:  B5  @B        @F  B@@BC,@ @;EBO  .;    B@  B   B0X@BHLr,....      Tg BjB@  ;@  .j  Bt   @  : 2B  
--                                        ;HH.    ;t@  ;@i           @@@: rO ,6n@Bj  2  sB@B@ ;B  @TsCs        ; r5B6   iB   BB2 B;;r EB  ZrBB@;Cs@  ;
--                                           ;rXc;  tcZP             @ .B7r@ircFS:   8 ;@ t  @7.BnH;     ;ibB@BiB@csB@B. @    B   B  @ i   @F   .C@b r
--                                               .;rib              @    B  ,,          @B#B@B  @;    rb@8S,   ;7  xO, BE @   #r  @ HU :cB@    c@ . s 
--                                                                 8B   B           Br   , .  B@    r@BT;    BB0     @B r@8   Br 6Br Sr BL rCc iFrr;  
--                                                                ,@rBUr@            ,@    6nF@    B@c   U; @r  ;      B  @  #@  8 i: O5@    ,@B   :x;
--                                                                S  r6@#8d82@b6BHX@iOjnSBO;t@    b0.    : CB           B C;B@  @;  iD:  rO72;B :Z2;  
--                                                                @    n  r;r,,    ;i       @: i;BE         @           C8 B  ;;i LB,  ;c;Xg rO    ;#:
--                                                                B   rr           Ct      @H   r@r       ;. @ @c        @ @  B. 0i   r@;2T 2r       ;
--                                                               ;F   B;           :tr;rC; B    @D        6c B:          c Bxd  TBr:   B;r,.        s:
--                                                               T@ .CH                   B2   Zb             B          # @;   B .xE.r@  :rjEr,  ;6 r
--                                                               .2,6nr                   @    @;             @: r       B B2d.Ht     @       ,,6;Srrx
--                                                               si              @@       B;  ;dU              @ @      ijr@  :@      B         T7U   
--                                                               r8                       @X  5;n           n  B        @ @B   B       ;sU@t   igB. . 
--                                                               :g               5;      ;@  c U;          r  rB      ;C Br   5B     ;@#  FB@,@Z;nx. 
--                                                                D               X       .B   B @            r#       B 6@   ;r7Od, Bg r8L   tn;: ;TP
--                                                                n,           .:  ;;:sXn; @   rc d      .   @E       @  @:  UT  ;LrE@    ,2BT   jBr. 
--                                        .                       @Z@gr:;.;::;@L2cLir5xr;T g@   xxSL    @  n@  ;H   EB  @;  xT . j  @ Er.H   ;FB5   c;
--                                                                @  jB@dHFis@s .,          X@ j;cs;8;    BC      Os  x@.   r;D@ 2  B Z;  B     :Hg;  
--                                                                @          rT              i@:   n2gEr.B   .;rr x, @@     Z    2 tj ;:5BS        .;5
--                                                                BT          B   Bi           B6r   ,r@BrstTUB@jx TBb      B  ;.@  B   i:           D
--                                                               .@@i         @;  U:             rO6T..,irOZFUP@@B;@D       @5T;  @:;t              :s
--                                                                @@.r;        B                     r;;,;:;;n;   #E         t     @r 5xr           8 
--                                                                 dc.:rT,     iF :;r,:;..                       B@           B. .x CO  i#n         @ 
--                                                                  CBci;r;;r;tcrr;.  ns,cc;r:rc;:..:;:.:.r     Bg             gr D; t@   :@0,     ;@ 
--                                                                   Bg sO@gLc2L;. ,7s::;.. .  .,..;crr:,,@;j.rB:               gc    ,B     rt,   B. 
--                                                                    8# .r  ;  ;@Si   sd6; :,;r,;;.  rr;F,:r6B;                 cn  :  86.i;.r#B@ @:@
--                                                                      @#c@Dstj. ;.ii@ 8  B .X   . br; .,D  :                    .irrcircrrri;,.cDBT.
--                                                                   . ,2  @   ;;jLr    B #X rr   ;CBC    ;t                                          
--                                                                  :L@8Oi8BLx      @;  @  n i.  B0Z D; #n@                                           
--                                                                 jB i   B s#B      Cn B .g 8 r@O6, BB:,@;                                           
--                                                                  @7Z  in XZ0       d5c iB 8TBr  8;d,; @#;                                          
--                                                                   FBgB.6@@BL        sBt .P@    .@ ,x@  DC                                          
--                                                                   .X # U2, @          xBBs     ;B  @ @ @r@                                         
--                                                                   B #s B@  D@           ,      L@  @ ri 8 :                                        
--                                                                 Z@BO  ;gB   @                  @;  rs B OrB                                        
--                                                                c;:c52gEj#BbtDBjs,.            tc :jtb. B 2;X                                       
--                            .                                   @ @     L, Ed :T;i@           @B@@@i  @ ;7 n Sr                                     
--                                                               @ ,X     @; @     @           @B        @ D  B .Z                                    
--                                                              @  B      @  B   :@           ;r:        E@ @  Br ic.                                 
--                                                           .X@  B       B B@  T@               @B@      BX @  Xx  :;7r::; ;c                        
--                                                     ;sB@BBd  ,@       Bj @  B@              .0: :@B.    B: @   LT,    : n@S                        
--                                                     @,     :@g       x@ @: B@                 :Bi ;B@    gi;nZc  cnUi  :@ r                        
--                                                    ;Z . ;gBS      ;CB@ @F 85                   r Cr sBj   ,ri F@r   ,@BT Pr                        
--                                                    5r @i@B  ;. :nB@ r.   Br                        r: 0E8     6 8HCrC  ,CH                         
--                                                    jDPrjE j@ TB BD @BZ rB                            TP  FO  ;r: .S:Z0Bs,                          
--                                                     r,:;Ds;; ;s.ig;# BCB                                ;TjB;B T@s;:                               
--                                                             .  i. : ,;.                                  ;   L;                                    
--                                                                                                                                                    
--                                                                                                                                                  . 
--                                                                                                                                                      
--  B@B@B@B@B@B   B@B         B@B  @B@B@B@@@B@B   B@B@B@@@B@B@   rB@B@B@B@@    @B@B@B@B@Br       r@@B@B       B@B@B,    ;@B;  B@B     B@B@              
--  @B@;xtxT5B@B  @B@         @B@  B@B@B@B@B@B@   @B@B@8@B@B@B  jB@B@B@B@B@@  ,B@@@B@B@B@B:      @@B@B@B      @B@B@Bg   #B@E  @B@   @B@B,               
--  B@B      @@;  B@B         B@@       B@x            #B@@@    B@@      ;U@   @B@     @B@      B@B  XB@B     B@B B@B@  x@BT  B@B@b@@@i                 
--  @@@B@B@B@B@   @B@         @@@      :@B@          B@B@X      @B@            B@B@B@B@@@g     B@B@   @B@B    @B@  B@B@ ;B@c  @@@@@B@B                  
--  B@@      @B@  B@B         B@B      :B@D       i@B@B@        B@B@     @B@.  @B@7OZOs@B@    B@B@B@@@B@B@c   B@B   x@@@.@Bj  @@B   @@B@                
--  @B@@@B@B@B@B  @B@@@B@B@B  @@@      t@B@      .@B@B@B@B@@@@   @@B@B@B@B@B  ;B@B     B@@B  B@B@      ;@B@:  @B@    .@B@B@B  @B@    X@@@B              
--                                                                                           ;             :                             r:
--

require 'Eternal Prediction'

local ScriptVersion = "v1.0"

local function Ready(spell)
	return myHero:GetSpellData(spell).currentCd == 0 and myHero:GetSpellData(spell).level > 0 and myHero:GetSpellData(spell).mana <= myHero.mana and Game.CanUseSpell(spell) == 0 
end

local function EnemiesAround(pos, range, team)
	local Count = 0
	for i = 1, Game.HeroCount() do
		local m = Game.Hero(i)
		if m and m.team == 200 and not m.dead and m.pos:DistanceTo(pos, m.pos) < 125 then
			Count = Count + 1
		end
	end
	return Count
end

local function AlliesAround(pos, range, team)
	local Count = 0
	for i = 1, Game.HeroCount() do
		local m = Game.Hero(i)
		if m and m.team == 100 and not m.dead and m.pos:DistanceTo(pos, m.pos) < 600 then
			Count = Count + 1
		end
	end
	return Count
end

local function GetTarget(range)
	local target = nil
	if Orb == 1 then
		target = EOW:GetTarget(range)
	elseif Orb == 2 then
		target = _G.SDK.TargetSelector:GetTarget(range)
	elseif Orb == 3 then
		target = GOS:GetTarget(range)
	end
	return target
end

local intToMode = {
   	[0] = "",
   	[1] = "Combo",
   	[2] = "Harass",
   	[3] = "LastHit",
   	[4] = "Clear"
}

local function GetMode()
	if Orb == 1 then
		return intToMode[EOW.CurrentMode]
	elseif Orb == 2 then
		if _G.SDK.Orbwalker.Modes[_G.SDK.ORBWALKER_MODE_COMBO] then
			return "Combo"
		elseif _G.SDK.Orbwalker.Modes[_G.SDK.ORBWALKER_MODE_HARASS] then
			return "Harass"	
		elseif _G.SDK.Orbwalker.Modes[_G.SDK.ORBWALKER_MODE_LANECLEAR] or _G.SDK.Orbwalker.Modes[_G.SDK.ORBWALKER_MODE_JUNGLECLEAR] then
			return "Clear"
		elseif _G.SDK.Orbwalker.Modes[_G.SDK.ORBWALKER_MODE_LASTHIT] then
			return "LastHit"
		elseif _G.SDK.Orbwalker.Modes[_G.SDK.ORBWALKER_MODE_FLEE] then
			return "Flee"
		end
	else
		return GOS.GetMode()
	end
end

local function EnableOrb(bool)
	if Orb == 1 then
		EOW:SetMovements(bool)
		EOW:SetAttacks(bool)
	elseif Orb == 2 then
		_G.SDK.Orbwalker:SetMovement(bool)
		_G.SDK.Orbwalker:SetAttack(bool)
	else
		GOS.BlockMovement = not bool
		GOS.BlockAttack = not bool
	end
end

class "Blitzcrank"

function Blitzcrank:__init()
	if _G.EOWLoaded then
		Orb = 1
	elseif _G.SDK and _G.SDK.Orbwalker then
		Orb = 2
	end
	self:LoadSpells()
	self:LoadMenu()
	Callback.Add("Tick", function() self:Tick() end)
	Callback.Add("Draw", function() self:Draw() end)
end

function Blitzcrank:LoadSpells()
	Q = { range = myHero:GetSpellData(_Q).range, delay = myHero:GetSpellData(_Q).delay, speed = myHero:GetSpellData(_Q).speed, width = myHero:GetSpellData(_Q).width, icon = "https://vignette3.wikia.nocookie.net/leagueoflegends/images/e/e2/Rocket_Grab.png" }
	W = { range = myHero:GetSpellData(_W).range, delay = myHero:GetSpellData(_W).delay, speed = myHero:GetSpellData(_W).speed, width = myHero:GetSpellData(_W).width, icon = "https://vignette1.wikia.nocookie.net/leagueoflegends/images/a/ab/Overdrive.png" }
	E = { range = myHero:GetSpellData(_E).range, delay = myHero:GetSpellData(_E).delay, speed = myHero:GetSpellData(_E).speed, width = myHero:GetSpellData(_E).width, icon = "https://vignette4.wikia.nocookie.net/leagueoflegends/images/9/98/Power_Fist.png" }
	R = { range = myHero:GetSpellData(_R).range, delay = myHero:GetSpellData(_R).delay, speed = myHero:GetSpellData(_R).speed, width = myHero:GetSpellData(_R).width, icon = "https://vignette1.wikia.nocookie.net/leagueoflegends/images/a/a6/Static_Field.png" }
end

function Blitzcrank:LoadMenu()
	Tocsin = MenuElement({type = MENU, id = "Tocsin", name = "Tocsin Blitzcrank"})

	Tocsin:MenuElement({name = "Blitzcrank", drop = {ScriptVersion}, leftIcon = "https://vignette1.wikia.nocookie.net/leagueoflegends/images/7/76/Blitzcrank_OriginalLoading.jpg"})
	
	--Combo

	Tocsin:MenuElement({type = MENU, id = "Combo", name = "Combo Settings"})
	Tocsin.Combo:MenuElement({id = "Q", name = "Use [Q]", value = true, leftIcon = Q.icon})
	Tocsin.Combo:MenuElement({id = "W", name = "Use [W]", value = true, leftIcon = W.icon})
	Tocsin.Combo:MenuElement({id = "E", name = "Use [E]", value = true, leftIcon = E.icon})

	--Harass Use as different combo W to get in mele range, then E auto atk. hopefully enemy flashes and Q get back here

	Tocsin:MenuElement({type = MENU, id = "Harass", name = "Enemy Flash Burner W E Q"})
	Tocsin.Harass:MenuElement({id = "Q", name = "Use [Q]", value = true, leftIcon = Q.icon})
	Tocsin.Harass:MenuElement({id = "E", name = "Use [E]", value = true, leftIcon = E.icon})
    Tocsin.Harass:MenuElement({id = "W", name = "Use [W]", value = true, leftIcon = W.icon})
	Tocsin.Harass:MenuElement({id = "Mana", name = "Min Mana to Harass [%]", value = 0.30, min = 0.05, max = 1, step = 0.01})

	--Misc

	Tocsin:MenuElement({type = MENU, id = "Misc", name = "Misc Settings"})
	Tocsin.Misc:MenuElement({id = "Rks", name = "Killsecure [R]", value = true, leftIcon = R.icon})

	--Eternal Prediction

	Tocsin:MenuElement({type = MENU, id = "Pred", name = "Prediction Settings"})
	Tocsin.Pred:MenuElement({id = "Chance", name = "Prediction Hitchance", value = 0.200, min = 0.05, max = 1, step = 0.025})
	
	--Draw

	Tocsin:MenuElement({type = MENU, id = "Draw", name = "Draw Settings"})
	Tocsin.Draw:MenuElement({id = "Q", name = "Draw [Q] Range", value = true, leftIcon = Q.icon})

end

function Blitzcrank:Tick()
	local Mode = GetMode()
	if Mode == "Combo" then
		self:Combo()
	elseif Mode == "Harass" then
		self:Harass()
	end
    self:Misc()
end

function Blitzcrank:Combo()
	local target = GetTarget(1250, "AD")
	if not target then return end

	if Tocsin.Combo.Q:Value() and Ready(_Q) and myHero.pos:DistanceTo(target.pos) < 925 and target:GetCollision(Q.width,Q.speed,Q.delay) == 0 then
		self:CastQ(target)
	end

	if Tocsin.Combo.W:Value() and Ready(_W) and myHero.pos:DistanceTo(target.pos) < 200 then
		self:CastW(target)
	end

	if Tocsin.Combo.E:Value() and Ready(_E) and myHero.pos:DistanceTo(target.pos) < 200 then
		self:CastE(target)
	end

end

function Blitzcrank:Harass()
	local target = GetTarget(1250, "AD")
	--if myHero.mana/myHero.maxMana < Tocsin.Harass.Mana:Value() then return end
	if not target then return end

    if Tocsin.Harass.E:Value() and Ready(_E) and myHero.pos:DistanceTo(target.pos) < 250 then
		Control.CastSpell(HK_E)
		Control.Attack(target)
	end

	if Tocsin.Harass.Q:Value() and Ready(_Q) and not Ready(_E) and myHero.pos:DistanceTo(target.pos) > 350 and target:GetCollision(Q.width,Q.speed,Q.delay) == 0 then
		self:CastQ(target)
	end

    if Tocsin.Harass.W:Value() and Ready(_W) and myHero.pos:DistanceTo(target.pos) < 900 then
		Control.CastSpell(HK_W)
	end

end

function Blitzcrank:Misc()
	local target = GetTarget(600)
	if not target then return end
		if Tocsin.Misc.Rks:Value() and Ready(_R) then
			if  myHero.pos:DistanceTo(target.pos) < 580 then
			local lvl = myHero:GetSpellData(_R).level
			local Rdmg = (({250, 375, 500})[lvl] + 0.9 * myHero.ap)         --250 / 375 / 500 (+ 100% AP)
				if  Rdmg > target.health * 1.2 + target.shieldAP then
					self:CastR(target)
				end
			end
		end
end

function Blitzcrank:CastQ(target)
	local Qdata = {speed = 1800, delay = 0.25, range = 925,  width = 100 }
	local Qspell = Prediction:SetSpell(Qdata, TYPE_LINEAR, true)
	local pred = Qspell:GetPrediction(target,myHero.pos)
	if  myHero.pos:DistanceTo(target.pos) < 925 then
		if pred and pred.hitChance >= Tocsin.Pred.Chance:Value() and pred:mCollision() == 0 and pred:hCollision() == 0 then
			EnableOrb(false)
			Control.CastSpell(HK_Q, pred.castPos)
			DelayAction(function() EnableOrb(true) end, 0.1)
		end
	end
end

function Blitzcrank:CastW(target)
	if  myHero.pos:DistanceTo(target.pos) < 180 then
		if not Ready(_Q) and not Ready(_E) then
			Control.CastSpell(HK_W)
		end
	end
end

function Blitzcrank:CastE(target)
	if  myHero.pos:DistanceTo(target.pos) < 250 and not Ready(_Q) then
		Control.CastSpell(HK_E)
		Control.Attack(target)
	end
end

function Blitzcrank:CastR(target)
	local target = GetTarget(650)
	if not target.dead and not target.isImmune then
		if target.distance <= 580 then
			Control.CastSpell(HK_R)
		end
	end
end

function Blitzcrank:CountEnemys(range)
	local heroesCount = 0
    	for i = 1,Game.HeroCount() do
        local enemy = Game.Hero(i)
        if  enemy.team ~= myHero.team and enemy.valid and enemy.pos:DistanceTo(myHero.pos) < 400 then
			heroesCount = heroesCount + 1
        end
    	end
		return heroesCount
end 

function Blitzcrank:GetAllyHeroes()
	local _AllyHeroes
	if _AllyHeroes then return _AllyHeroes end
	_AllyHeroes = {}
	for i = 1, Game.HeroCount() do
    local unit = Game.Hero(i)
    if unit.isAlly then
      table.insert(_AllyHeroes, unit)
    end
	end
	return _AllyHeroes
end

function Blitzcrank:IsValidTarget(unit,range) 
	return unit ~= nil and unit.valid and unit.visible and not unit.dead and unit.isTargetable and not unit.isImmortal and unit.pos:DistanceTo(myHero.pos) <= 1000 
end

function Blitzcrank:Draw()
	if Tocsin.Draw.Q:Value() and Ready(_Q) then Draw.Circle(myHero.pos, 1050, 3,  Draw.Color(255,255, 162, 000)) end
end

Callback.Add("Load", function()
	if myHero.charName ~= "Blitzcrank" then return end
	if not _G.Prediction_Loaded then return end
	if _G[myHero.charName] then
		_G[myHero.charName]()
		print("Tocsin "..myHero.charName.." "..ScriptVersion.." Loaded")
	else print ("Tocsin doesn't support "..myHero.charName.." shutting down...") return
	end
end)